<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <title>네이버 로그인 (Authorization Code Flow)</title>
</head>
<body>
<h1>네이버 로그인 데모</h1>
<button id="naverLoginBtn">네이버로 로그인</button>

<script>
    document.getElementById('naverLoginBtn').addEventListener('click', function() {
        // /auth/url 엔드포인트(백엔드)로 요청을 보내 네이버 인증 URL을 받아온 뒤 리다이렉트
        fetch('/auth/url', {
            method: 'GET'
        })
            .then(response => response.text())
            .then(naverAuthUrl => {
                // 백엔드에서 받아온 네이버 인증 URL로 이동
                window.location.href = naverAuthUrl;
            })
            .catch(error => {
                console.error('네이버 로그인 URL 요청 실패:', error);
            });
    });
</script>
</body>
</html>